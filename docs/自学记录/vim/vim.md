# Vim æ“ä½œå¤§å…¨ï¼ˆCheat Sheetï¼‰

> ä¸€ä»½å®Œæ•´çš„ **Vim æ“ä½œé€ŸæŸ¥ç¬”è®°**
> é€‚ç”¨äº Ubuntu / WSL / VSCode / Neovim ç­‰ç¯å¢ƒã€‚

---

## ğŸ—‚ï¸ åŸºæœ¬æ¨¡å¼ï¼ˆModesï¼‰

| æ¨¡å¼                        | è¿›å…¥æ–¹å¼             | è¯´æ˜                             |
| --------------------------- | -------------------- | -------------------------------- |
| **æ™®é€šæ¨¡å¼ (Normal)**       | `Esc`                | é»˜è®¤æ¨¡å¼ï¼Œç”¨äºç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤ç­‰ |
| **æ’å…¥æ¨¡å¼ (Insert)**       | `i` / `a` / `o`      | ç¼–è¾‘æ–‡å­—                         |
| **å¯è§†æ¨¡å¼ (Visual)**       | `v` / `V` / `Ctrl+v` | é€‰ä¸­å­—ç¬¦ã€è¡Œã€çŸ©å½¢åŒºåŸŸ           |
| **å‘½ä»¤æ¨¡å¼ (Command-line)** | `:`                  | æ‰§è¡Œä¿å­˜ã€é€€å‡ºã€æœç´¢ç­‰å‘½ä»¤       |

---

## âœï¸ æ’å…¥æ¨¡å¼ï¼ˆInsert Modeï¼‰

| æ“ä½œ         | å‘½ä»¤  | è¯´æ˜                        |
| ------------ | ----- | --------------------------- |
| æ’å…¥å…‰æ ‡å‰   | `i`   | insert before cursor        |
| æ’å…¥å…‰æ ‡å   | `a`   | append after cursor         |
| æ’å…¥è¡Œé¦–     | `I`   | insert at beginning of line |
| æ’å…¥è¡Œå°¾     | `A`   | append at end of line       |
| åœ¨ä¸‹æ–¹æ–°å»ºè¡Œ | `o`   | open a new line below       |
| åœ¨ä¸Šæ–¹æ–°å»ºè¡Œ | `O`   | open a new line above       |
| é€€å‡ºæ’å…¥æ¨¡å¼ | `Esc` | å›åˆ°æ™®é€šæ¨¡å¼                |

---

## ğŸ“¦ æ–‡ä»¶æ“ä½œ

| æ“ä½œ         | å‘½ä»¤          | è¯´æ˜                |
| ------------ | ------------- | ------------------- |
| ä¿å­˜æ–‡ä»¶     | `:w`          | write               |
| ä¿å­˜å¹¶é€€å‡º   | `:wq` æˆ– `:x` | save & quit         |
| é€€å‡ºä¸ä¿å­˜   | `:q!`         | quit without saving |
| ä»…é€€å‡º       | `:q`          | quit                |
| å¦å­˜ä¸º       | `:w filename` | save as filename    |
| æ‰“å¼€æ–‡ä»¶     | `:e filename` | edit file           |
| æŸ¥çœ‹æ‰“å¼€æ–‡ä»¶ | `:ls`         | show buffer list    |
| åˆ‡æ¢æ–‡ä»¶     | `:b1`, `:b2`  | switch buffer       |

---

## ğŸ§­ å…‰æ ‡ç§»åŠ¨ï¼ˆNormal æ¨¡å¼ï¼‰

| æ“ä½œ                    | å‘½ä»¤                  | è¯´æ˜                        |
| ----------------------- | --------------------- | --------------------------- |
| å·¦ / ä¸‹ / ä¸Š / å³       | `h` / `j` / `k` / `l` | åŸºæœ¬ç§»åŠ¨                    |
| è¡Œé¦– / è¡Œå°¾             | `0` / `$`             | move to start / end of line |
| å‘å‰ / å‘åç§»åŠ¨ä¸€ä¸ªå•è¯ | `w` / `b`             | word forward/backward       |
| ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´ / ç»“å°¾   | `gg` / `G`            | first / last line           |
| è·³åˆ°ç¬¬ n è¡Œ             | `:n` æˆ– `nG`          | go to line n                |
| å±å¹•ç§»åŠ¨                | `Ctrl+u` / `Ctrl+d`   | up / down half page         |
| å‘ä¸Š / å‘ä¸‹æ»šåŠ¨ä¸€è¡Œ     | `Ctrl+y` / `Ctrl+e`   | scroll up/down one line     |
| å®šä½åˆ°åŒ¹é…çš„æ‹¬å·        | `%`                   | match parentheses           |

---

## âœ‚ï¸ ç¼–è¾‘æ“ä½œï¼ˆåˆ é™¤ / å¤åˆ¶ / ç²˜è´´ï¼‰

| æ“ä½œ             | å‘½ä»¤           | è¯´æ˜                  |
| ---------------- | -------------- | --------------------- |
| åˆ é™¤ä¸€ä¸ªå­—ç¬¦     | `x`            | delete char           |
| åˆ é™¤æ•´è¡Œ         | `dd`           | delete line           |
| åˆ é™¤ n è¡Œ        | `ndd`          | delete n lines        |
| åˆ é™¤åˆ°è¡Œå°¾       | `D`            | delete to end of line |
| å¤åˆ¶ï¼ˆyankï¼‰ä¸€è¡Œ | `yy`           | yank line             |
| å¤åˆ¶é€‰å®šåŒºåŸŸ     | `y`            | in visual mode        |
| ç²˜è´´åˆ°å…‰æ ‡å     | `p`            | paste                 |
| ç²˜è´´åˆ°å…‰æ ‡å‰     | `P`            | paste before cursor   |
| æ›¿æ¢å­—ç¬¦         | `r<char>`      | replace one character |
| æ’¤é”€ / é‡åš      | `u` / `Ctrl+r` | undo / redo           |

---

## ğŸ” æœç´¢ä¸æ›¿æ¢

| æ“ä½œ             | å‘½ä»¤            | è¯´æ˜                        |
| ---------------- | --------------- | --------------------------- |
| æœç´¢å­—ç¬¦ä¸²       | `/pattern`      | forward search              |
| å‘åæœç´¢         | `?pattern`      | backward search             |
| ä¸‹ä¸€ä¸ªåŒ¹é…       | `n`             | next result                 |
| ä¸Šä¸€ä¸ªåŒ¹é…       | `N`             | previous result             |
| æ›¿æ¢å•ä¸ªåŒ¹é…     | `:s/old/new/`   | substitute once             |
| æ›¿æ¢æ•´è¡Œæ‰€æœ‰åŒ¹é… | `:s/old/new/g`  | substitute globally in line |
| æ›¿æ¢å…¨æ–‡ä»¶       | `:%s/old/new/g` | substitute globally in file |
| å¤§å°å†™ä¸æ•æ„Ÿæœç´¢ | `/pattern\c`    | case-insensitive search     |

---

## ğŸ¯ å¯è§†æ¨¡å¼ï¼ˆVisual Modeï¼‰

| æ“ä½œ          | å‘½ä»¤      | è¯´æ˜              |
| ------------- | --------- | ----------------- |
| è¿›å…¥å­—ç¬¦é€‰æ‹©  | `v`       | visual mode       |
| è¿›å…¥è¡Œé€‰æ‹©    | `V`       | visual line mode  |
| è¿›å…¥å—é€‰æ‹©    | `Ctrl+v`  | visual block mode |
| å¤åˆ¶          | `y`       | yank              |
| åˆ é™¤          | `d`       | delete            |
| ç²˜è´´          | `p`       | paste             |
| ç¼©è¿› / åç¼©è¿› | `>` / `<` | indent / unindent |

---

## ğŸ§© å¤šæ–‡ä»¶ / åˆ†å±æ“ä½œ

| æ“ä½œ         | å‘½ä»¤                | è¯´æ˜                      |
| ------------ | ------------------- | ------------------------- |
| æ°´å¹³åˆ†å±     | `:sp filename`      | split window horizontally |
| å‚ç›´åˆ†å±     | `:vsp filename`     | split vertically          |
| åˆ‡æ¢åˆ†å±     | `Ctrl+w` + `æ–¹å‘é”®` | move between windows      |
| å…³é—­å½“å‰åˆ†å± | `:q`                | quit window               |
| æ‰“å¼€æ–°æ ‡ç­¾é¡µ | `:tabnew`           | new tab                   |
| åˆ‡æ¢æ ‡ç­¾é¡µ   | `gt` / `gT`         | next / previous tab       |

---

## âš¡ å¿«æ·å‘½ä»¤ç»„åˆç¤ºä¾‹

| ç›®çš„             | å‘½ä»¤            | å«ä¹‰              |
| ---------------- | --------------- | ----------------- |
| åˆ é™¤ 3 è¡Œ        | `3dd`           | delete 3 lines    |
| å¤åˆ¶ 5 è¡Œ        | `5yy`           | yank 5 lines      |
| è·³åˆ°ç¬¬ 20 è¡Œ     | `20G`           | go to line 20     |
| æœç´¢å¹¶æ›¿æ¢å…¨æ–‡ä»¶ | `:%s/foo/bar/g` | replace all       |
| ä¿å­˜å¹¶é€€å‡º       | `:wq`           | write + quit      |
| ä¸ä¿å­˜é€€å‡º       | `:q!`           | quit without save |

---

## ğŸ’¡ å°æŠ€å·§

- æ‰“å¼€è¡Œå·æ˜¾ç¤ºï¼š`:set number`
- æ‰“å¼€è¯­æ³•é«˜äº®ï¼š`:syntax on`
- è®¾ç½®ç¼©è¿›å®½åº¦ï¼š`:set tabstop=4 shiftwidth=4`
- è®¾ç½®è‡ªåŠ¨ç¼©è¿›ï¼š`:set autoindent`
- æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ï¼š`:help <command>`
  ä¾‹ï¼š`:help :wq`

---

## ğŸš€ é€€å‡ºå›°å¢ƒï¼šå½“ä½ å¡åœ¨ Vim é‡Œ

```bash
# æœ€ç»å…¸çš„ç»„åˆï¼š
Esc          # å›åˆ°æ™®é€šæ¨¡å¼
:q!          # ä¸ä¿å­˜é€€å‡º
:wq          # ä¿å­˜å¹¶é€€å‡º
```

---

## ğŸ§± æ¨èé…ç½®ï¼ˆå¯æ”¾å…¥ ~/.vimrcï¼‰

```vim
set number          " æ˜¾ç¤ºè¡Œå·
syntax on           " å¯ç”¨è¯­æ³•é«˜äº®
set tabstop=4       " Tab å®½åº¦
set shiftwidth=4    " ç¼©è¿›å®½åº¦
set expandtab       " ç”¨ç©ºæ ¼ä»£æ›¿ Tab
set autoindent      " è‡ªåŠ¨ç¼©è¿›
set cursorline      " é«˜äº®å½“å‰è¡Œ
set showmatch       " åŒ¹é…æ‹¬å·é«˜äº®
set hlsearch        " æœç´¢ç»“æœé«˜äº®
set incsearch       " å¢é‡æœç´¢
```

---

âœ… **æ€»ç»“ï¼š**

> - Vim çš„æœ¬è´¨æ˜¯â€œæ¨¡å¼ç¼–è¾‘å™¨â€ï¼›
> - å¸¸ç”¨ç»„åˆå°±æ˜¯ï¼š
>   `i` â†’ æ’å…¥ï¼› `Esc` â†’ æ™®é€šï¼› `:wq` â†’ ä¿å­˜é€€å‡ºï¼›
> - å­¦ä¼š hjkl + dd + yy + pï¼Œå°±èƒ½åœ¨ç»ˆç«¯ä¸­é«˜æ•ˆå†™ä»£ç ï¼

éå¸¸å¥½ ğŸ‘
ä½ ç°åœ¨å·²ç»æŒæ¡äº† Vim çš„åŸºæœ¬æ“ä½œï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬è®²çš„å°±æ˜¯**â€œå¦‚ä½•åœ¨ Vim é‡ŒçœŸæ­£å†™ä»£ç â€**â€”â€”
ä¹Ÿå°±æ˜¯è®© Vim ä¸åªæ˜¯ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ª**è½»é‡çº§ IDE**ï¼ˆä»£ç å¼€å‘ç¯å¢ƒï¼‰ã€‚

ä¸‹é¢å†…å®¹æ˜¯ç³»ç»ŸåŒ–æ•™ç¨‹ï¼Œæ ¼å¼ä¸º **Markdown æ•™å­¦ç¬”è®°**ï¼Œä½ å¯ä»¥ç›´æ¥æ”¾åˆ°ä½ çš„ MkDocsã€ŒAbies Notebookã€é‡Œç”¨ã€‚

---

# ğŸ§  Vim å†™ä»£ç å…¨æ”»ç•¥ï¼ˆä»å…¥é—¨åˆ°é«˜æ•ˆï¼‰

> æ•™ä½ å¦‚ä½•åœ¨ Vim ä¸­è¿›è¡Œ **ä»£ç ç¼–å†™ã€è¿è¡Œã€è°ƒè¯•ã€è¡¥å…¨ã€æ ¼å¼åŒ–ä¸é¡¹ç›®ç®¡ç†**

---

## ğŸ—‚ï¸ ä¸€ã€Vim åŸºç¡€ç»“æ„å›é¡¾

Vim æœ‰ä¸‰ç§ä¸»è¦æ¨¡å¼ï¼š

| æ¨¡å¼             | ä½œç”¨                           |
| ---------------- | ------------------------------ |
| **Normal æ¨¡å¼**  | å¯¼èˆª / åˆ é™¤ / å¤åˆ¶ / ç²˜è´´      |
| **Insert æ¨¡å¼**  | è¾“å…¥ä»£ç                        |
| **Command æ¨¡å¼** | æ‰§è¡Œå‘½ä»¤ï¼ˆä¿å­˜ã€è¿è¡Œã€è®¾ç½®ç­‰ï¼‰ |

è¿›å…¥æ’å…¥æ¨¡å¼ï¼š

```bash
i   # åœ¨å…‰æ ‡å‰æ’å…¥
a   # åœ¨å…‰æ ‡åæ’å…¥
o   # åœ¨ä¸‹ä¸€è¡Œæ’å…¥æ–°è¡Œ
```

é€€å‡ºæ’å…¥æ¨¡å¼ï¼š

```bash
Esc
```

---

## âœï¸ äºŒã€åˆ›å»ºå¹¶ç¼–å†™ä»£ç æ–‡ä»¶

### 1. æ–°å»ºæ–‡ä»¶

```bash
vim hello.cpp
```

æˆ–åœ¨ Vim å†…éƒ¨ï¼š

```vim
:e hello.cpp
```

### 2. ç¼–å†™ä»£ç 

æŒ‰ `i` è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œè¾“å…¥ä»£ç ï¼Œä¾‹å¦‚ï¼š

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    cout << "Hello, Vim!" << endl;
    return 0;
}
```

æŒ‰ `Esc` é€€å‡ºç¼–è¾‘æ¨¡å¼ã€‚

### 3. ä¿å­˜ä¸é€€å‡º

```bash
:w      # ä¿å­˜
:wq     # ä¿å­˜å¹¶é€€å‡º
:q!     # ä¸ä¿å­˜é€€å‡º
```

---

## âš™ï¸ ä¸‰ã€ç¼–è¯‘ä¸è¿è¡Œä»£ç ï¼ˆC/C++/Python ç­‰ï¼‰

### ğŸ§© æ–¹æ³• 1ï¼šåœ¨ Vim å†…æ‰§è¡Œ shell å‘½ä»¤

åœ¨æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥ï¼š

```vim
:!g++ hello.cpp -o hello && ./hello
```

è¾“å‡ºï¼š

```
Hello, Vim!
```

ä½ ä¹Ÿå¯ä»¥ä¸ºä¸åŒè¯­è¨€æ‰§è¡Œï¼š

| è¯­è¨€   | å‘½ä»¤                               |
| ------ | ---------------------------------- |
| C      | `:!gcc main.c -o main && ./main`   |
| C++    | `:!g++ main.cpp -o main && ./main` |
| Python | `:!python3 script.py`              |
| Java   | `:!javac Main.java && java Main`   |

---

### ğŸ§© æ–¹æ³• 2ï¼šé…ç½®è‡ªå®šä¹‰ç¼–è¯‘å¿«æ·é”®ï¼ˆæ¨èï¼‰

åœ¨ `~/.vimrc` æ·»åŠ ï¼š

```vim
autocmd FileType c,cpp map <F5> :w<CR>:!g++ % -o %< && ./%<<CR>
autocmd FileType python map <F5> :w<CR>:!python3 %<CR>
```

è¿™æ ·ï¼š

- æŒ‰ `F5` è‡ªåŠ¨ä¿å­˜ + ç¼–è¯‘ + è¿è¡Œï¼›
- `%` è¡¨ç¤ºå½“å‰æ–‡ä»¶åï¼›
- `%<` è¡¨ç¤ºå»æ‰æ‰©å±•åã€‚

---

## ğŸ§± å››ã€å¸¸ç”¨ä»£ç è¾…åŠ©åŠŸèƒ½

### ğŸ”¹ 1. è¡Œå·ä¸é«˜äº®

```vim
:set number          " æ˜¾ç¤ºè¡Œå·
:syntax on           " å¯ç”¨è¯­æ³•é«˜äº®
:set cursorline      " é«˜äº®å½“å‰è¡Œ
:set showmatch       " æ‹¬å·åŒ¹é…æç¤º
```

### ğŸ”¹ 2. è‡ªåŠ¨ç¼©è¿›

```vim
:set autoindent
:set smartindent
:set tabstop=4
:set shiftwidth=4
:set expandtab
```

### ğŸ”¹ 3. æ³¨é‡ŠæŠ€å·§ï¼ˆæ‰‹åŠ¨ï¼‰

- C/C++ï¼š`//` æˆ– `/* ... */`
- Pythonï¼š`#`
- Vim æ’ä»¶å¯ä»¥è‡ªåŠ¨æ³¨é‡Šï¼ˆè§ä¸‹ï¼‰ã€‚

---

## ğŸ§© äº”ã€æå‡ç”Ÿäº§åŠ›çš„æ’ä»¶ï¼ˆæ¨èï¼‰

> Vim æœ¬èº«è½»é‡ï¼Œä½†æ’ä»¶ç³»ç»Ÿæå¼ºï¼Œå¯ä»¥åƒ VSCode ä¸€æ ·å¢å¼ºã€‚

### ğŸ“¦ æ’ä»¶ç®¡ç†å™¨ï¼švim-plug

å®‰è£…ï¼š

```bash
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
```

åœ¨ `~/.vimrc` æ·»åŠ ï¼š

```vim
call plug#begin('~/.vim/plugged')

" åŸºç¡€å¢å¼º
Plug 'preservim/nerdtree'        " ç›®å½•æ ‘
Plug 'jiangmiao/auto-pairs'      " è‡ªåŠ¨è¡¥å…¨æ‹¬å·
Plug 'tpope/vim-commentary'      " å¿«æ·æ³¨é‡Š
Plug 'scrooloose/syntastic'      " è¯­æ³•æ£€æŸ¥
Plug 'vim-airline/vim-airline'   " çŠ¶æ€æ ç¾åŒ–

" ä»£ç è¡¥å…¨ï¼ˆæ¨èé…åˆ clangd / coc.nvimï¼‰
Plug 'neoclide/coc.nvim', {'branch': 'release'}

call plug#end()
```

ç„¶ååœ¨ Vim å†…æ‰§è¡Œï¼š

```vim
:PlugInstall
```

---

## ğŸ“ å…­ã€ä»£ç ç›®å½•ç®¡ç†

ä½¿ç”¨ `NERDTree`ï¼š

| æ“ä½œ             | å‘½ä»¤              | è¯´æ˜        |
| ---------------- | ----------------- | ----------- |
| æ‰“å¼€ä¾§è¾¹æ–‡ä»¶æ ‘   | `:NERDTreeToggle` | æ–‡ä»¶ç®¡ç†å™¨  |
| åœ¨æ ‘ä¸­åˆ›å»ºæ–°æ–‡ä»¶ | `m` + `a`         | add a file  |
| åˆ é™¤æ–‡ä»¶         | `m` + `d`         | delete file |
| æ‰“å¼€æ–‡ä»¶         | `Enter`           | open file   |

---

## ğŸ§® ä¸ƒã€ä»£ç è¡¥å…¨ä¸é”™è¯¯æç¤º

å®‰è£… `coc.nvim` åï¼Œæ”¯æŒæ™ºèƒ½è¡¥å…¨ï¼ˆç±»ä¼¼ VSCodeï¼‰ï¼š

| æ“ä½œ     | å‘½ä»¤           |
| -------- | -------------- |
| è‡ªåŠ¨è¡¥å…¨ | è¾“å…¥æ—¶è‡ªåŠ¨æç¤º |
| è·³è½¬å®šä¹‰ | `gd`           |
| æŸ¥çœ‹æ–‡æ¡£ | `K`            |
| ä¿®å¤é”™è¯¯ | `<leader>qf`   |

ç¤ºä¾‹é…ç½®ï¼ˆC/C++ ç”¨ clangdï¼‰ï¼š

```bash
:CocInstall coc-clangd
```

---

## ğŸ§° å…«ã€è°ƒè¯•ä¸è¿è¡Œæ•´åˆ

å¯¹äºå¤æ‚é¡¹ç›®ï¼Œä½ å¯ä»¥ï¼š

- ä½¿ç”¨ `Makefile`ï¼š

  ```bash
  :!make
  ```

- æˆ–åœ¨ `.vimrc` å®šä¹‰é¡¹ç›®çº§å‘½ä»¤ï¼š

  ```vim
  map <F9> :!make run<CR>
  ```

---

## ğŸ§ª ä¹ã€Python ç¤ºä¾‹

```bash
vim test.py
```

```python
def fib(n):
    if n <= 1:
        return n
    return fib(n-1) + fib(n-2)

print(fib(6))
```

æ‰§è¡Œï¼š

```vim
:!python3 %
```

è¾“å‡ºï¼š

```
8
```

---

## ğŸ§± ç»“è¯­

| ç›®çš„     | æ“ä½œ                           |
| -------- | ------------------------------ |
| ç¼–è¾‘ä»£ç  | `i` â†’ å†™ä»£ç  â†’ `Esc`           |
| ä¿å­˜è¿è¡Œ | `:w` â†’ `:!g++ % -o %< && ./%<` |
| é«˜æ•ˆé…ç½® | `.vimrc` æ·»åŠ å¿«æ·é”®ä¸æ’ä»¶      |
| é¡¹ç›®ç®¡ç† | `NERDTree + coc.nvim`          |

---

âœ… **ä¸€å¥è¯æ€»ç»“ï¼š**

> Vim å†™ä»£ç çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼š
>
> 1. æ’å…¥æ¨¡å¼è¾“å…¥ï¼›
> 2. å‘½ä»¤æ¨¡å¼è¿è¡Œï¼›
> 3. é…ç½® `.vimrc` æå‡æ•ˆç‡ï¼›
> 4. æ’ä»¶åŒ–æ‰“é€ å±äºè‡ªå·±çš„è½»é‡ IDEã€‚
