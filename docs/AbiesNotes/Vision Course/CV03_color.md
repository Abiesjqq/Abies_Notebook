## 感光

红绿蓝的视锥细胞，敏感范围不同  
视杆细胞：亮度暗时感光（e.g. 极光）

**颜色**是人眼感知光在不同能量上的分布  
光分布不同，人眼感知到的颜色可能相同

**反光**：颜色取决于光源，和物体在各个波长上的反射率（强度=光照强度\*反射率）  
通过**光谱**决定光的能量分布、材料的反光属性等

**相机**：先认为每个像素上都有感应红绿蓝的传感器  
特定波长：光源能量\*物体反射率\*传感器响应比率，积分

## 颜色表示

### Color Mapping Function

用特定波长的纯色光做颜色映射，每个纯色光对应一组 RGB。然后通过组合这些纯色光（即不同波长的光）来形成不同的颜色，形成一个三维的颜色空间，即三个函数 Color Mapping Function。  
有了 Color Mapping Function 后，可以计算出任意频谱组合的光需要用什么 RGB 描述。将每个部分波长对应的函数值相加。

为什么能直接相加？  
人眼对颜色的感知是线性的，即色光的加法性

**Cons**：对于 RGB 色彩模型，在某些情况下，线性组合可能会得到负值。  
由于人眼感光，纯色光试验时，不能用正值的 RGB 组合得到相同颜色，需要将某种颜色增加到纯色光才能完全匹配。这种增加的光的值为负值。  
（视锥细胞的敏感区间有较大重叠？）

### CIE XYZ Color Space

对原先的 RGB 三维坐标变换为 XYZ：取出负数，Y 值和人眼对明亮度的感知正相关

XYZ 颜色是标准的颜色空间，而 RGB 不一定准确。因为 RGB 取决于在空间中取哪三个点为基准，不同公司有不同标准。  
sRGB 也是标准的，和 XYZ 有线性的换算关系

### YUV Color Space

通过矩阵对 RGB 转换，用于图片压缩

Y 通道：表示亮度（明亮度）信息，直接影响图像的明暗感。  
UV 通道：表示色度信息，包含颜色的色调和饱和度。

**图片压缩：**

RGB 中，人眼对绿色通道敏感、对红蓝通道不敏感。  
YUV 中，因为人眼对亮度变化更加敏感，而对色彩的变化不太敏感，UV 通道的模糊在视觉上变化不明显。可以在 UV 通道大量压缩。

### CMY Color Space

- C：青色（消除红光）
- M：品红（消除绿光）
- Y：黄（消除蓝光）

RGB 一般用于加法混色（e.g. 白色背景投影）  
CMY 一般用于减法混色（e.g. 滤光）

## 彩色照片

最简单的方法：在黑白相机（捕捉光强）前加滤光片  
显示：用三个白色灯投到同一个位置，每个灯前放滤光片

**3-CCD 相机**：用棱镜将光分成红绿蓝三个通道，每个通道后放传感器

**Bayer Pattern**：每个像素上盖红或绿或蓝滤光片，每个像素其余两个颜色用插值（Demodaicing）获得  
绿色的像素更多，因为人眼对绿色敏感，采样频率要更高

## 颜色的研究

**Switchable Primary Colors：**

用两层错位的 CMY 滤光片。调整错位的方式，得到不同颜色空间。

CMY 的好处：光线通过率高，环境暗时信噪比更好  
RGB 的好处：颜色还原能力强

**Polarization Camera：**

在传感器前加偏振膜，每个像素的偏振方向不同。  
用偏振信息三维重建

**Multispectral Camera：**

用相加拍摄光在每个频段的能量

简单的改造：有很多小孔的遮挡物 + 棱镜散射  
每个小孔透过的光散射成一束彩虹，用传感器接收。距离越大记录的像素越多，空间分辨率高、但频谱分辨率低

应用：

- 活体检测，皮肤在不同波长的反射率有特定的特点  
- 不同墨水的反射率特点不同，检测笔记先后