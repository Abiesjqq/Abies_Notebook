## AVL 树

平衡二叉树：二叉搜索树+所有节点|左子树高度-右子树高度|<=1（平衡因子<=1）  
查找、插入、删除和不同二叉搜索树相同，只是每次再检查是否平衡

左旋：向左旋转，冲突的左孩变右孩  
右旋：向右旋转，冲突的右孩变左孩

**什么时候、什么节点左旋/右旋？**

LL 型（失衡节点 2，失衡节点左孩子 1）：失衡节点右旋  
RR 型（失衡节点-2，失衡节点右孩子-1）：失衡节点左旋  
LR 型（失衡节点 2，失衡节点左孩子-1）：左孩子左旋，失衡节点右旋  
RL 型（失衡节点-2，失衡节点右孩子-1）：右孩子右旋，失衡节点左旋

**怎么判断是哪种情况？**  

检查插入的节点在失衡节点的哪个孩子的哪个子树上。  
或分别看失衡节点、左右孩子的平衡节点。

若同时有多个祖先失衡，只要调整距离最近的失衡节点。

**删除？**

删除操作和普通二叉搜索树相同。  
需要依次对每个祖先、从下到上检查，如果失衡可能需要调整多次。

